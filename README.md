# Software de Gest√£o Escolar

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)](https://dashboard.render.com/)
[![Tests](https://img.shields.io/badge/tests-41%20passing-brightgreen)](#-testes-unit√°rios)
[![Coverage](https://img.shields.io/badge/coverage-60%25-yellow)](#resultados-de-cobertura-de-testes)
[![Django](https://img.shields.io/badge/Django-5.1-092E20?logo=django)](https://djangoproject.com/)
[![Python](https://img.shields.io/badge/Python-3.8+-3776AB?logo=python&logoColor=white)](https://python.org/)
[![Deploy](https://img.shields.io/badge/deploy-Render-46E3B7?logo=render)](https://dashboard.render.com/)

Software com framework web e script web (JavaScript), com uso de API, banco de dados em nuvem, acessibilidade, teste e controle de vers√£o para ferramenta digital de gest√£o escolar desenvolvido para a disciplina de Projeto Integrador para os cursos de Bacharelado em Tecnologia da Informa√ß√£o Ci√™ncia de Dados e Engenharia da Computa√ß√£o da Universidade Virtual do Estado de S√£o Paulo.

## üîó Links Importantes

- üåê **Deploy em Produ√ß√£o**: [Sistema em funcionamento no Render](https://gestaoescolarunivesp.onrender.com)
- üìä **Dashboard CI/CD**: [Monitoramento de builds](https://dashboard.render.com/)
- üìã **Documenta√ß√£o de Testes**: [TESTES_RESUMO.md](./TESTES_RESUMO.md)
- üèóÔ∏è **Reposit√≥rio**: [GitHub do Projeto](https://github.com/ProjetosIntegradoresUnivesp/gestaoescolar)

## üìà Status do Projeto

| Aspecto | Status | Detalhes |
|---------|--------|----------|
| **üèóÔ∏è Build** | ‚úÖ **Passando** | Deploy autom√°tico via Render |
| **üß™ Testes** | ‚úÖ **41/41 Passing** | 100% dos testes aprovados |
| **üìä Cobertura** | ‚ö†Ô∏è **60%** | Modelos: 96%, Views: 38% |
| **üöÄ Deploy** | ‚úÖ **Ativo** | Produ√ß√£o est√°vel no Render |
| **üì± Responsivo** | ‚úÖ **Sim** | Interface adapt√°vel |
| **‚ôø Acessibilidade** | ‚úÖ **Implementada** | Leitor de tela, contraste |

# Equipe de Desenvolvimento

UNIVERSIDADE VIRTUAL DO ESTADO DE S√ÉO PAULO

* [Bruna Michelle Sargenti Moreira](https://github.com/BrunaMoreira100)
* [Diego Nespolon Bertazzoli](https://github.com/diegobertazzoli)
* [Elson Atushi Kondo](https://github.com/EAKUNIVESP)
* [Fabiana Santos Lima Sugamele](https://github.com/fabianasugamele)
* [Gabriel Silva Nascimento](https://github.com/Gabriel-GSN)
* [Glauco Bernadino Coelho]()
* [Luciana Lima Dos Santos](https://github.com/lucianalds11)
* [Nelson Francisco Correa Netto](https://github.com/nelsoncorrea)

# Problema da comunidade

A gest√£o escolar enfrenta dificuldades devido ao uso de arquivos em papel, em raz√£o de limita√ß√µes das ferramentas atuais, o que resulta em perda frequente de documentos, dificuldade de localiza√ß√£o, escassez de espa√ßo para armazenamento e desorganiza√ß√£o. Essas limita√ß√µes comprometem a efici√™ncia e a seguran√ßa na gest√£o dos dados escolares.

# Objetivos do projeto

O projeto teve como objetivo desenvolver uma Ferramenta Digital Web-Based para Gest√£o Escolar que possibilite a cria√ß√£o de um banco de dados com a funcionalidade de registro do hist√≥rico dos atendimentos realizados, bem como a inser√ß√£o e digitaliza√ß√£o de informa√ß√µes m√©dicas durante o per√≠odo que o aluno estiver matriculado at√© o descarte desse registro, conforme tabela de temporalidade da guarda documental que a unidade escolar est√° sujeita, possibilitando a busca deste  momento de futuros atendimentos, sem a necessidade de busca em arquivos f√≠sicos.

# Funcionalidades

* Cadastro de alunos (incluindo hist√≥rico de sa√∫de), professores, equipe de colaboradores, diciplinas e turmas.
* Sistema de registro e gest√£o de atendimentos escolares.
* Sistema de gest√£o de disciplinas e turmas.
* Gerenciamento de documentos e anexos.
* Sistema de cria√ß√£o e gerenciamento de us√°rios com login e senha.
* Acessibilida de software: Avatar de leitura de tela, contraste de cores e leitor de tela.

# Pr√©-requisitos para execu√ß√£o

* Framework web - Django 5.1
* Banco de dados - PostgreSQL
* Node.js (utilizado para as APIs)
* Python 3.8+

# Como executar o projeto

## 1. Configura√ß√£o do ambiente

```bash
# Clone o reposit√≥rio
git clone <url-do-repositorio>
cd gestaoescolar

# Crie um ambiente virtual
python -m venv venv

# Ative o ambiente virtual (Windows)
venv\Scripts\activate

# Ative o ambiente virtual (Linux/Mac)
source venv/bin/activate

# Instale as depend√™ncias
pip install -r requirements.txt
```

## 2. Configura√ß√£o do banco de dados

Configure as vari√°veis de ambiente no arquivo `.env`:

```
SECRET_KEY=sua-chave-secreta
DEBUG=True
DATABASE_URL=postgres://usuario:senha@localhost:5432/nome_do_banco
```

## 3. Execute as migra√ß√µes

```bash
python manage.py migrate
```

## 4. Crie um superusu√°rio

```bash
python manage.py createsuperuser
```

## 5. Execute o servidor

```bash
python manage.py runserver
```

# Testes Unit√°rios

O projeto inclui uma su√≠te abrangente de testes unit√°rios que cobrem:

- **Modelos**: Testes para todos os modelos (Aluno, Professor, Equipe, Turma, Disciplina, Atendimento, etc.)
- **Formul√°rios**: Valida√ß√£o de formul√°rios de registro e cria√ß√£o de turmas
- **Views**: Testes b√°sicos de acesso e autentica√ß√£o
- **Relacionamentos**: Testes de integridade dos relacionamentos entre modelos
- **C√°lculos**: Testes para fun√ß√µes de c√°lculo de m√©dias e notas

## Como executar os testes

### Executar todos os testes
```bash
python manage.py test
```

### Executar testes de um app espec√≠fico
```bash
python manage.py test gestao_escolar
```

### Executar uma classe de teste espec√≠fica
```bash
python manage.py test gestao_escolar.tests.AlunoModelTest
```

### Executar um teste espec√≠fico
```bash
python manage.py test gestao_escolar.tests.AlunoModelTest.test_idade_calculation
```

### Executar testes com verbosidade
```bash
python manage.py test --verbosity=2
```

### Verificar cobertura de testes (opcional)

Para verificar a cobertura dos testes, instale o coverage:

```bash
pip install coverage
```

Execute os testes com coverage:

```bash
# Executar testes com coverage
coverage run --source='.' manage.py test

# Gerar relat√≥rio no terminal
coverage report

# Gerar relat√≥rio HTML
coverage html
```

O relat√≥rio HTML ser√° gerado na pasta `htmlcov/` e pode ser visualizado abrindo o arquivo `htmlcov/index.html` no navegador.

## Estrutura dos testes

Os testes est√£o organizados nas seguintes classes:

### Testes Principais (`tests.py`)
- **`AlunoModelTest`**: Testes para o modelo Aluno (valida√ß√£o de dados, c√°lculo de idade, unicidade)
- **`ProfessorModelTest`**: Testes para o modelo Professor (status ativo/inativo, m√©todos)
- **`EquipeModelTest`**: Testes para o modelo Equipe (status da equipe)
- **`TurmaModelTest`**: Testes para o modelo Turma (status ativa/inativa, relacionamentos)
- **`DisciplinaModelTest`**: Testes para o modelo Disciplina (status e m√©todos)
- **`AtendimentoModelTest`**: Testes para o modelo Atendimento (gera√ß√£o autom√°tica de c√≥digos)
- **`AvaliacaoModelTest`**: Testes para o modelo Avaliacao (cria√ß√£o autom√°tica de notas)
- **`MediaCalculationTest`**: Testes para c√°lculos de m√©dias (bimestral e final)
- **`RegistroUsuarioFormTest`**: Testes para formul√°rio de registro de usu√°rios
- **`TurmaFormTest`**: Testes para formul√°rio de cria√ß√£o de turmas
- **`ViewsTest`**: Testes b√°sicos para views (autentica√ß√£o, acesso)
- **`ModelRelationshipTest`**: Testes de relacionamentos entre modelos

### Testes de Integra√ß√£o (`test_integration.py`)
- **`IntegrationTest`**: Testes de fluxos completos do sistema
- **`FormValidationTest`**: Testes adicionais de valida√ß√£o de formul√°rios
- **`ModelMethodsTest`**: Testes para m√©todos espec√≠ficos dos modelos
- **`EdgeCasesTest`**: Testes para casos extremos e edge cases

## Estat√≠sticas dos Testes

- **Total de testes**: 29+ testes implementados
- **Cobertura**: Modelos, Forms, Views e relacionamentos
- **Tipos de teste**: Unit√°rios, integra√ß√£o, valida√ß√£o e edge cases

### Comandos individuais
```bash
# Executar todos os testes
python manage.py test gestao_escolar

# Executar testes espec√≠ficos
python manage.py test gestao_escolar.tests.AlunoModelTest

# Executar com cobertura (ap√≥s instalar requirements-dev.txt)
coverage run --source='.' manage.py test gestao_escolar
coverage report  # Relat√≥rio em texto
coverage html    # Relat√≥rio HTML em htmlcov/index.html
```

## Resultados de Cobertura de Testes

**Cobertura Total: 60%**

| Arquivo | Linhas | Faltando | Cobertura |
|---------|---------|----------|-----------|
| **models.py** | 217 | 9 | **96%** |
| **settings.py** | 38 | 1 | **97%** |
| **templatetags/aluno_extras.py** | 9 | 2 | **78%** |
| **forms.py** | 67 | 18 | **73%** |
| **views.py** | 505 | 313 | **38%** |
| **Outros** | 26 | 0 | **100%** |

**Total de Testes:** 41 (29 unit√°rios + 12 integra√ß√£o)
- ‚úÖ **100% dos testes passando**
- ‚úÖ **Cobertura excelente nos modelos** (96%)
- ‚ö†Ô∏è **Views precisam de mais testes** (38%)

### Visualizar Relat√≥rio HTML
Ap√≥s executar `coverage html`, abra o arquivo:
```
htmlcov/index.html
```

# üöÄ CI/CD e Deploy

## Integra√ß√£o Cont√≠nua com Render

O projeto est√° configurado com **pipeline de CI/CD automatizado** utilizando o servi√ßo [Render](https://dashboard.render.com/), proporcionando deploy autom√°tico e confi√°vel.

### üîÑ Pipeline Automatizado

**Trigger de Deploy:**
- ‚úÖ **Push autom√°tico**: Deploy disparado a cada push na branch `main`
- ‚úÖ **Testes automatizados**: Execu√ß√£o da su√≠te de testes antes do deploy
- ‚úÖ **Build autom√°tico**: Constru√ß√£o e prepara√ß√£o do ambiente de produ√ß√£o

### üìã Processo de Deploy

1. **Commit & Push**: Desenvolvedores fazem push para a branch `main`
2. **Build Trigger**: Render detecta automaticamente as mudan√ßas
3. **Execu√ß√£o de Testes**: Pipeline executa todos os 41 testes unit√°rios e de integra√ß√£o
4. **Deploy Condicional**: Deploy s√≥ ocorre se todos os testes passarem ‚úÖ
5. **Ambiente Live**: Aplica√ß√£o disponibilizada automaticamente

### üåê Ambientes

| Ambiente | Branch | URL | Status |
|----------|--------|-----|--------|
| **Produ√ß√£o** | `main` | [Em produ√ß√£o via Render] | üü¢ Ativo |
| **Desenvolvimento** | Local | `localhost:8000` | üîß Local |

### üõ°Ô∏è Benef√≠cios do CI/CD

- **üîí Qualidade garantida**: N√£o permite deploy com testes falhando
- **‚ö° Deploy r√°pido**: Automatiza√ß√£o reduz tempo de deploy
- **üîÑ Rollback f√°cil**: Hist√≥rico de vers√µes para revers√£o r√°pida
- **üë• Colabora√ß√£o**: Equipe pode trabalhar simultaneamente com seguran√ßa
- **üìä Monitoramento**: Logs e m√©tricas de deploy dispon√≠veis no dashboard

### üìä Monitoramento e Logs

**Via Dashboard Render:**
```bash
# Acesso aos logs em tempo real
Dashboard ‚Üí Aplica√ß√£o ‚Üí Logs

# M√©tricas de performance
Dashboard ‚Üí Aplica√ß√£o ‚Üí Metrics

# Hist√≥rico de deploys
Dashboard ‚Üí Aplica√ß√£o ‚Üí Events
```

**Comandos para monitoramento local:**
```bash
# Verificar status dos testes
python manage.py test gestao_escolar --verbosity=2

# Monitorar cobertura
coverage run --source='.' manage.py test gestao_escolar
coverage report

# Verificar sa√∫de da aplica√ß√£o
python manage.py check --deploy
```

### üìÅ Configura√ß√£o

O projeto inclui os arquivos necess√°rios para o Render:
- `requirements.txt` - Depend√™ncias de produ√ß√£o
- `Procfile` - Comandos de inicializa√ß√£o
- Configura√ß√µes de ambiente via dashboard do Render

coverage report
coverage html


# Estrtutura do projeto

```bash
‚îú‚îÄ‚îÄ manage.py
|‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ gestao_escolar/
‚îÇ   ‚îú‚îÄ‚îÄ __pycache__/
|   ‚îú‚îÄ‚îÄ migrations/
|   ‚îú‚îÄ‚îÄ static/
|   |    ‚îú‚îÄ‚îÄ css/
|   |        ‚îú‚îÄ‚îÄ style.css
|   |    ‚îú‚îÄ‚îÄ js/
|   |        ‚îú‚îÄ‚îÄ cep_autocomplete.js
|   ‚îú‚îÄ‚îÄ templates/
|   |    ‚îú‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îú‚îÄ‚îÄ apps.py
‚îÇ   ‚îú‚îÄ‚îÄ forms.py
‚îÇ   |‚îÄ‚îÄ models.py
|   |‚îÄ‚îÄ roles.py
|   |‚îÄ‚îÄ testes.py
|   |‚îÄ‚îÄ views.py
|
|‚îÄ‚îÄ media/
|    ‚îú‚îÄ‚îÄ documentos/
|    |    |‚îÄ‚îÄ alunos/
|    |    |‚îÄ‚îÄ atendimentos/
|    |    |‚îÄ‚îÄ equipe/
|    |    |‚îÄ‚îÄ professores/
‚îú‚îÄ‚îÄ setup/
|   ‚îú‚îÄ‚îÄ __pycache__/
|   |   ‚îú‚îÄ‚îÄ ...
|   ‚îú‚îÄ‚îÄ __init__.py
|   ‚îú‚îÄ‚îÄ asgi.py
|   ‚îú‚îÄ‚îÄ settings.py
|   ‚îú‚îÄ‚îÄ urls.py
|   ‚îú‚îÄ‚îÄ wsgi.py
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .env
```

# Agradecimentos

Agradecemos √† orientadora do projeto, **Keyla Morales de Lima Garcia**, pela orienta√ß√£o e apoio durante o desenvolvimento do projeto.